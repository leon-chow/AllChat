<div class="main">
  <div class="channels">
    <h3> List of Channels </h3>
    <ul class="channel-list">
      <li>
        <button (click)="changeChannels(channels[0])" mat-flat-button> {{ channels[0] }} </button>
      </li>
      <li>
        <button (click)="changeChannels(channels[1])" mat-flat-button> {{ channels[1] }}  </button>
      </li>
      <li>
        <button (click)="changeChannels(channels[2])" mat-flat-button> {{ channels[2] }}  </button>
      </li>
      <li>
        <button (click)="changeChannels(channels[3])" mat-flat-button> {{ channels[3] }}  </button>
      </li>
    </ul>
  </div>
  <div class="chat">
    <div class="chat-title">
      <h1> {{ currentChannel }} </h1>
    </div>
    <div class="chat-box" #autoScroll>
      <div class="message-container" *ngFor="let message of messages$">
        <div class="user-container">
          <div class="user">
            {{ message.username }}: &nbsp;
          </div>
        </div>
        <div class="message">
          {{ message.message }}
        </div>
        <div class="time">
          {{ message.timePosted | date: 'fullDate'}} {{message.timePosted | date:'shortTime'}}
        </div>
      </div>
    </div>
    <div class="input-container">
      <textarea (keyup.enter)="sendMessage(inputMessage)" #inputMessage matInput cdkTextareaAutosize cdkAutofill max-rows="5" maxlength="400" class="message-input"> </textarea>
      <button mat-raised-button (click)="sendMessage(inputMessage)"> Send </button>
    </div>
  </div>
</div>
